<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Perform basic validity checks and transform data to a standardized list or keep as an object of
class xml_document (package xml2)."><title>Read a KANJIDIC2 file — read_kanjidic2 • kanjistat</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read a KANJIDIC2 file — read_kanjidic2"><meta property="og:description" content="Perform basic validity checks and transform data to a standardized list or keep as an object of
class xml_document (package xml2)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">kanjistat</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.12.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/kanjistat.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/dschuhmacher/kanjistat/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Read a KANJIDIC2 file</h1>
      <small class="dont-index">Source: <a href="https://github.com/dschuhmacher/kanjistat/blob/HEAD/R/read_kanjidic2.R" class="external-link"><code>R/read_kanjidic2.R</code></a></small>
      <div class="d-none name"><code>read_kanjidic2.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Perform basic validity checks and transform data to a standardized list or keep as an object of
class <code><a href="http://xml2.r-lib.org/reference/read_xml.html" class="external-link">xml_document</a></code> (package <code>xml2</code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_kanjidic2</span><span class="op">(</span>fpath <span class="op">=</span> <span class="cn">NULL</span>, output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"list"</span>, <span class="st">"xml"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>fpath</dt>
<dd><p>the path to a local KANJIDIC2 file. If <code>NULL</code> (the default) the most recent
KANJIDIC2 file is downloaded from <a href="https://www.edrdg.org/kanjidic/kanjidic2.xml.gz" class="external-link">https://www.edrdg.org/kanjidic/kanjidic2.xml.gz</a> after asking for confirmation.</p></dd>


<dt>output</dt>
<dd><p>one of <code>"list"</code> or <code>"xml"</code>. The desired type of output.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>If <code>output = "xml"</code>, the exact XML document obtained from <a href="http://xml2.r-lib.org/reference/read_xml.html" class="external-link">xml2::read_xml</a>. If <code>output = "list"</code>, a list of
lists (the individual kanji), each with the following seven components.</p><ul><li><p><code>literal</code>: a single UTF-8 character representing the kanji.</p></li>
<li><p><code>codepoint</code>: a named character vector giving the available codepoints in the unicode and jis standards.</p></li>
<li><p><code>radical</code>: a named numeric vector giving the radical number(s), in the range 1 to 214.
The number named <code>classical</code> is as recorded in the <em>KangXi Zidian</em> (1716); if there is a number
named <code>nelson_c</code>, the kanji was reclassified in Nelson's <em>Modern Reader's Japanese-English Character
Dictionary</em> (1962/74).</p></li>
<li><p><code>misc</code>: a list with six components</p><ul><li><p><code>grade</code>: the kanji grade level. 1 through 6 indicates a kyouiku kanji and the grade in which the
kanji is taught in Japanese primary school. 8 indicates one of the remaining jouyou kanji learned
in junior high school, and 9 or 10 are jinmeiyou kanji. The remaining (hyougai) kanji have <code>NA</code>
as their entry.</p></li>
<li><p><code>stroke_count</code>: The stroke count of the kanji, including the radical. If more than
one, the first is considered the accepted count, while subsequent ones are common miscounts.</p></li>
<li><p><code>variant</code>: a named character vector giving either a cross-reference code to another kanji,
usually regarded as a variant, or an alternative indexing code for the current kanji.
The type of variant is given in the name.</p></li>
<li><p><code>freq</code>: the frequency rank (1 = most frequent) based on newspaper data.
<code>NA</code> if not among the 2500 most frequent.</p></li>
<li><p><code>rad_name</code>: a character vector. For a kanji that is a radical itself, the name(s) of the radical
(if there are any), otherwise of length 0.</p></li>
<li><p><code>jlpt</code>: The Japanese Language Proficiency Test level according to the old four-level system
that was in place before 2010. A value from 4 (most elementary) to 1 (most advanced).</p></li>
</ul></li>
<li><p><code>dic_number</code>: a named character vector (possibly of length 0) giving the index numbers (for some
kanji with letters attached) of the kanji in various dictionaries,
textbooks and flashcard collections (specified by the name). For Morohashi's <em>Dai Kan-Wa Jiten</em>,
the volume and page number is also provided in the format moro.VOL.PAGE.</p></li>
<li><p><code>query_code</code>: a named character vector giving the codes of the kanji in various query systems
(specified by the name). For Halpern's SKIP code, possible misclassifications (if any) of the kanji
are also noted in the format mis.skip.TYPE, where TYPE indicates the type of misclassification.</p></li>
<li><p><code>reading_meaning</code>: a (possibly empty) list containing zero or more <code>rmgroup</code> components creating
groups of readings and meanings (in practice there is never more than one <code>rmgroup</code> currently)
as well as a component <code>nanori</code> giving a character vector (possibly of length 0) of readings only
associated with names. Each <code>rmgroup</code> is a list with entries:</p><ul><li><p><code>reading</code>: a (possibly empty) list of entries named from among <code>pinyin</code>, <code>korean_r</code>, <code>korean_h</code>,
<code>vietnam</code>, <code>ja_on</code> and <code>ja_kun</code>, each containing a character vector of the corresponding readings</p></li>
<li><p><code>meaning</code>: a (possibly empty) list of entries named with two-letter (ISO 639-1) language codes,
each containing a character vector of the corresponding meanings.</p></li>
</ul></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>KANJIDIC2 contains detailed information on all of the 13108 kanji in three main Japanese standards (JIS X 0208, 0212 and 0213).
The KANJIDIC files have been compiled and maintained by Jim Breen since 1991, with the help of various
other people. The copyright is now held by the Electronic Dictionary Research and Development Group (EDRDG).
The files are made available under the Creative Commons BY-SA 4.0 license.
See <a href="https://www.edrdg.org/wiki/index.php/KANJIDIC_Project" class="external-link">https://www.edrdg.org/wiki/index.php/KANJIDIC_Project</a> for details on the contents of the files
and their license.</p>
<p>If <code>output = "xml"</code>, some minimal checks are performed (high level structure and
total number of kanji).</p>
<p>If <code>output = "list"</code>, additional validity checks of the lower level structure are performed.
Most are in accordance with the file's Document Type Definition (DTD).
Some additional check concern some common patterns that are true about the current
KANJIDIC2 file (as of December 2023) and seem unlikely to change in the near future.
This includes that there is always at most one <code>rmgroup</code> entry in <code>reading_meaning</code>.
Informative warnings are provided if any of these additional checks fail.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="kanjidata.html">kanjidata</a>, <a href="kreadmean.html">kreadmean</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">read_kanjidic2</span><span class="op">(</span><span class="st">"kanjidic2.xml"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dominic Schuhmacher, Lennart Finke.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

